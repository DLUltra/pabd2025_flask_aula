<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Confirmar Exclusão</title>
    <!-- arquivo css separado -->
    <link rel="stylesheet" href="{{ url_for('static', filename='delete.css') }}">
</head>
<body>
    <!-- container principal -->
    <div class="container">
        
        <!-- cartão com conteúdo -->
        <div class="card">
            
            <!-- cabeçalho da página -->
            <header class="cabecalho">
                <h1>Confirmar Exclusão</h1>
                <p class="subtitulo">Ação irreversível</p>
            </header>
            
            <!-- corpo da página -->
            <main class="conteudo">
                
                <!-- alerta de atenção -->
                <div class="alerta alerta-aviso">
                    <h2>Importante</h2>
                    <p>Você está prestes a excluir um funcionário permanentemente.</p>
                </div>

                <!-- informações do funcionário -->
                <div class="informacoes">
                    <h3>Funcionário a ser excluído</h3>
                    
                    <div class="dados-funcionario">
                        <div class="dados-coluna">
                            <p><strong>Nome:</strong> {{ funcionario.pnome }} {{ funcionario.unome }}</p>
                            <p><strong>CPF:</strong> {{ funcionario.cpf|format_cpf }}</p>
                        </div>
                        
                        <div class="dados-coluna">
                            <p><strong>Nascimento:</strong>
                                {% if funcionario.data_nasc %}
                                    {% if funcionario.data_nasc is string %}
                                        {{ datetime.strptime(funcionario.data_nasc, '%Y-%m-%d').strftime('%d/%m/%Y') }}
                                    {% else %}
                                        {{ funcionario.data_nasc.strftime('%d/%m/%Y') }}
                                    {% endif %}
                                {% else %}
                                    Não informado
                                {% endif %}
                            </p>
                            <p><strong>Salário:</strong> 
                                {% if funcionario.salario %}
                                    R$ {{ "%.2f"|format(funcionario.salario) }}
                                {% else %}
                                    Não informado
                                {% endif %}
                            </p>
                        </div>
                    </div>
                </div>

                <!-- alerta final -->
                <div class="alerta alerta-perigo">
                    <h2>Esta ação não pode ser desfeita!</h2>
                    <p>Todos os dados deste funcionário serão permanentemente removidos.</p>
                </div>

                <!-- formulário de confirmação -->
                <form method="POST" action="{{ url_for('delete', pk=funcionario.cpf) }}" class="formulario">
                    <!-- checkbox de confirmação -->
                    <div class="confirmacao">
                        <input type="checkbox" id="confirmCheckbox" required class="checkbox">
                        <label for="confirmCheckbox" class="checkbox-label">
                            Eu entendo que esta ação é irreversível.
                        </label>
                    </div>
                    
                    <!-- botões de ação -->
                    <div class="botoes">
                        <a href="{{ url_for('index') }}" class="botao botao-cancelar">
                            Cancelar
                        </a>
                        
                        <button type="submit" class="botao botao-excluir" id="confirmDelete">
                            Confirmar Exclusão
                        </button>
                    </div>
                </form>
            </main>
            
            <!-- rodapé da página -->
            <footer class="rodape">
                <p><strong>Observação:</strong> Use o botão "Voltar" do navegador para retornar.</p>
            </footer>
        </div>
    </div>
</body>
</html>